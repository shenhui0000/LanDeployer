import{g as h}from"./host-aZwPL29u.js";import{g as C}from"./deploy-B6WCszwX.js";import{_ as T,r as w,o as H,c as $,a as S,b as t,w as o,d as e,e as a,t as u,f as p}from"./index-B5noXiXf.js";import"./request-Czxk6xGR.js";const D={class:"dashboard"},L={class:"stat-content"},M={class:"stat-info"},R={class:"stat-value"},x={class:"stat-content"},B={class:"stat-info"},N={class:"stat-value"},V={class:"stat-content"},F={class:"stat-info"},U={class:"stat-value"},q={class:"stat-content"},E={class:"stat-info"},G={class:"stat-value"},I={class:"quick-actions"},O={__name:"Dashboard",setup(P){const n=w({totalHosts:0,onlineHosts:0,totalTasks:0,successTasks:0}),m=async()=>{try{const l=await h();l.data&&(n.value.totalHosts=l.data.length,n.value.onlineHosts=l.data.filter(d=>d.status==="online").length);const s=await C();s.data&&(n.value.totalTasks=s.data.length,n.value.successTasks=s.data.filter(d=>d.status==="success").length)}catch(l){console.error("加载统计数据失败",l)}};return H(()=>{m()}),(l,s)=>{const d=e("Monitor"),c=e("el-icon"),i=e("el-card"),r=e("el-col"),k=e("SuccessFilled"),f=e("Upload"),b=e("CircleCheck"),y=e("el-row"),_=e("el-button"),g=e("List");return S(),$("div",D,[t(y,{gutter:20},{default:o(()=>[t(r,{span:6},{default:o(()=>[t(i,{class:"stat-card"},{default:o(()=>[a("div",L,[t(c,{class:"stat-icon",color:"#409eff"},{default:o(()=>[t(d)]),_:1}),a("div",M,[a("div",R,u(n.value.totalHosts),1),s[3]||(s[3]=a("div",{class:"stat-label"},"服务器总数",-1))])])]),_:1})]),_:1}),t(r,{span:6},{default:o(()=>[t(i,{class:"stat-card"},{default:o(()=>[a("div",x,[t(c,{class:"stat-icon",color:"#67c23a"},{default:o(()=>[t(k)]),_:1}),a("div",B,[a("div",N,u(n.value.onlineHosts),1),s[4]||(s[4]=a("div",{class:"stat-label"},"在线服务器",-1))])])]),_:1})]),_:1}),t(r,{span:6},{default:o(()=>[t(i,{class:"stat-card"},{default:o(()=>[a("div",V,[t(c,{class:"stat-icon",color:"#e6a23c"},{default:o(()=>[t(f)]),_:1}),a("div",F,[a("div",U,u(n.value.totalTasks),1),s[5]||(s[5]=a("div",{class:"stat-label"},"部署任务",-1))])])]),_:1})]),_:1}),t(r,{span:6},{default:o(()=>[t(i,{class:"stat-card"},{default:o(()=>[a("div",q,[t(c,{class:"stat-icon",color:"#f56c6c"},{default:o(()=>[t(b)]),_:1}),a("div",E,[a("div",G,u(n.value.successTasks),1),s[6]||(s[6]=a("div",{class:"stat-label"},"成功任务",-1))])])]),_:1})]),_:1})]),_:1}),t(i,{class:"welcome-card",style:{"margin-top":"20px"}},{default:o(()=>[s[10]||(s[10]=a("h2",null,"欢迎使用 LanDeployer",-1)),s[11]||(s[11]=a("p",null,"离线内网一键部署工具，支持OpenResty、Redis、MySQL、Prometheus、Grafana等服务的快速部署。",-1)),a("div",I,[t(_,{type:"primary",onClick:s[0]||(s[0]=v=>l.$router.push("/hosts"))},{default:o(()=>[t(c,null,{default:o(()=>[t(d)]),_:1}),s[7]||(s[7]=p(" 管理服务器 ",-1))]),_:1}),t(_,{type:"success",onClick:s[1]||(s[1]=v=>l.$router.push("/deploy"))},{default:o(()=>[t(c,null,{default:o(()=>[t(f)]),_:1}),s[8]||(s[8]=p(" 创建部署 ",-1))]),_:1}),t(_,{type:"info",onClick:s[2]||(s[2]=v=>l.$router.push("/tasks"))},{default:o(()=>[t(c,null,{default:o(()=>[t(g)]),_:1}),s[9]||(s[9]=p(" 查看任务 ",-1))]),_:1})])]),_:1})])}}},J=T(O,[["__scopeId","data-v-44532b9b"]]);export{J as default};
